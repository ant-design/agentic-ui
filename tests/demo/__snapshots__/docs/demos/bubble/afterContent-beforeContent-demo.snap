<DocumentFragment>
  <div
    class="ant-app"
  >
    <div>
      test
    </div>
    <div
      style="border-radius: 20px; background: rgb(253, 254, 254); box-shadow: 0px 0px 1px 0px rgba(0, 19, 41, 0.2), 0px 1.5px 4px -1px rgba(0, 19, 41, 0.04); width: 830px; display: flex; flex-direction: column; justify-content: space-between; padding: 0px; z-index: 0; margin: 24px auto;"
    >
      <div
        style="padding: 16px; display: flex; flex-direction: row; align-items: center; box-sizing: border-box; border-width: 0px 0px 1px 0px; border-style: solid; border-color: rgba(0, 16, 32, 0.063);"
      >
        <span
          style="font-size: 13px; color: rgba(0, 0, 0, 0.45);"
        >
          📝 afterContent 和 beforeContent 渲染演示
        </span>
        <div
          style="font-size: 12px; color: rgba(0, 0, 0, 0.45);"
        >
          这个演示展示了如何使用 afterContentRender 和 beforeContentRender 在消息内容的前后添加自定义内容
        </div>
      </div>
      <div>
        <div
          style="padding: 24px;"
        >
          <div
            class="ant-agent-list-bubble ant-agent-list-bubble-left ant-agent-list-bubble-ai ant-flex ant-flex-align-stretch ant-flex-vertical"
            style="gap: 12px;"
          >
            <div
              class="ant-agent-list-bubble-container"
              style="display: flex; flex-direction: column; gap: 8px; align-items: flex-start;"
            >
              <div
                class="ant-agent-list-bubble-avatar-title ant-agent-list-bubble-avatar-title-left ant-agent-list-bubble-avatar-title-ai"
              >
                <span
                  class="ant-avatar ant-avatar-circle ant-agent-list-bubble-avatar"
                  data-testid="bubble-avatar"
                  style="width: 24px; height: 24px; font-size: 18px; cursor: default;"
                >
                  <span
                    class="ant-avatar-string"
                    style="-webkit-transform: scale(1); transform: scale(1);"
                  >
                    UN
                  </span>
                </span>
                <div
                  class="ant-agent-list-bubble-title ant-flex"
                  data-testid="bubble-title"
                  style="flex-direction: row; gap: 8px;"
                >
                  <span />
                </div>
              </div>
              <div
                class="ant-agent-list-bubble-container ant-agent-list-bubble-container-left ant-agent-list-bubble-container-ai"
                data-testid="chat-message"
                style="display: flex; gap: 4px; flex-direction: column; align-items: flex-start;"
              >
                <div
                  class="ant-agent-list-bubble-before ant-agent-list-bubble-before-left ant-agent-list-bubble-before-ai"
                  data-testid="message-before"
                />
                <div
                  class="ant-agent-list-bubble-content ant-agent-list-bubble-content-left ant-agent-list-bubble-content-ai"
                  data-testid="message-content"
                  style="min-width: 0px;"
                >
                  <div
                    style="display: flex; flex-direction: column; min-width: 0; max-width: 100%;"
                  >
                    <div
                      style="padding: 8px 12px; background: rgb(245, 245, 245); border-radius: 6px; margin-bottom: 8px; font-size: 12px; color: rgb(102, 102, 102); border: 1px solid rgb(232, 232, 232);"
                    >
                      📝 
                      <strong>
                        消息信息
                      </strong>
                      <br />
                      创建时间: 2023-12-21 10:30:56
                      <br />
                      模型: gpt-4
                      <br />
                      发送者: AI助手
                    </div>
                    <div
                      class="ant-md-editor markdown-editor ant-md-editor-readonly"
                      style="width: 100%; height: auto; display: flex; flex-direction: column; max-height: 100%; padding: 0px; margin: 0px;"
                    >
                      <div
                        style="padding: 12px 20px; overflow: auto; display: flex; height: 100%; position: relative; gap: 24px; outline: none;"
                        tabindex="-1"
                      >
                        <div
                          autocapitalize="false"
                          autocorrect="false"
                          class="ant-md-editor-content ant-md-editor-content-readonly"
                          contenteditable="false"
                          data-slate-editor="true"
                          data-slate-node="value"
                          spellcheck="false"
                          style="position: relative; white-space: pre-wrap; word-wrap: break-word; font-size: 14px;"
                          zindex="-1"
                        >
                          <h1
                            class="ant-md-editor-drag-el"
                            data-be="head"
                            data-head="这是一个演示消息"
                            data-slate-node="element"
                            data-title="true"
                            id="这是一个演示消息"
                          >
                            <span
                              data-slate-node="text"
                            >
                              <span
                                data-be="text"
                                data-slate-leaf="true"
                                draggable="false"
                              >
                                <span
                                  data-slate-string="true"
                                >
                                  这是一个演示消息
                                </span>
                              </span>
                            </span>
                          </h1>
                          <div
                            class="ant-md-editor-drag-el"
                            data-be="paragraph"
                            data-slate-node="element"
                          >
                            <span
                              data-slate-node="text"
                            >
                              <span
                                data-be="text"
                                data-slate-leaf="true"
                                draggable="false"
                              >
                                <span
                                  data-slate-string="true"
                                >
                                  这是一个支持 
                                </span>
                              </span>
                            </span>
                            <span
                              data-slate-node="text"
                            >
                              <span
                                data-be="text"
                                data-slate-leaf="true"
                                draggable="false"
                                style="font-weight: bold;"
                              >
                                <span
                                  data-testid="markdown-bold"
                                >
                                  <span
                                    data-slate-string="true"
                                  >
                                    Markdown
                                  </span>
                                </span>
                              </span>
                            </span>
                            <span
                              data-slate-node="text"
                            >
                              <span
                                data-be="text"
                                data-slate-leaf="true"
                                draggable="false"
                              >
                                <span
                                  data-slate-string="true"
                                >
                                   的消息内容。
                                </span>
                              </span>
                            </span>
                          </div>
                          <h2
                            class="ant-md-editor-drag-el"
                            data-be="head"
                            data-head="功能特性"
                            data-slate-node="element"
                            data-title="false"
                            id="功能特性"
                          >
                            <span
                              data-slate-node="text"
                            >
                              <span
                                data-be="text"
                                data-slate-leaf="true"
                                draggable="false"
                              >
                                <span
                                  data-slate-string="true"
                                >
                                  功能特性
                                </span>
                              </span>
                            </span>
                          </h2>
                          <div
                            class="ant-md-editor-list-container relative"
                            data-be="list"
                            data-slate-node="element"
                          >
                            <ul
                              class="ant-md-editor-list ul"
                            >
                              <li
                                class="ant-md-editor-list-item"
                                data-be="list-item"
                                data-slate-node="element"
                              >
                                <div
                                  class="ant-md-editor-drag-el"
                                  data-be="paragraph"
                                  data-slate-node="element"
                                >
                                  <span
                                    data-slate-node="text"
                                  >
                                    <span
                                      data-be="text"
                                      data-slate-leaf="true"
                                      draggable="false"
                                    >
                                      <span
                                        data-slate-string="true"
                                      >
                                        支持标题、列表、代码块等 Markdown 语法
                                      </span>
                                    </span>
                                  </span>
                                </div>
                              </li>
                              <li
                                class="ant-md-editor-list-item"
                                data-be="list-item"
                                data-slate-node="element"
                              >
                                <div
                                  class="ant-md-editor-drag-el"
                                  data-be="paragraph"
                                  data-slate-node="element"
                                >
                                  <span
                                    data-slate-node="text"
                                  >
                                    <span
                                      data-be="text"
                                      data-slate-leaf="true"
                                      draggable="false"
                                    >
                                      <span
                                        data-slate-string="true"
                                      >
                                        支持自定义 beforeContent 和 afterContent 渲染
                                      </span>
                                    </span>
                                  </span>
                                </div>
                              </li>
                              <li
                                class="ant-md-editor-list-item"
                                data-be="list-item"
                                data-slate-node="element"
                              >
                                <div
                                  class="ant-md-editor-drag-el"
                                  data-be="paragraph"
                                  data-slate-node="element"
                                >
                                  <span
                                    data-slate-node="text"
                                  >
                                    <span
                                      data-be="text"
                                      data-slate-leaf="true"
                                      draggable="false"
                                    >
                                      <span
                                        data-slate-string="true"
                                      >
                                        可以显示消息的元数据信息
                                      </span>
                                    </span>
                                  </span>
                                </div>
                              </li>
                            </ul>
                          </div>
                          <div
                            data-slate-node="element"
                          >
                            <div
                              class="ace-el drag-el"
                              contenteditable="false"
                              data-be="code"
                              data-lang="javascript"
                              data-testid="code-container"
                              tabindex="-1"
                            >
                              <div
                                class="ace-container drag-el "
                                data-testid="code-editor-container"
                                style="box-sizing: border-box; max-height: 400px; overflow: auto; position: relative; height: auto; opacity: 1; transition: border-color 0.2s ease-in-out; border-radius: 12px; background: rgb(255, 255, 255); box-shadow: 0px 0px 1px 0px rgba(0, 19, 41, 0.2),0px 1.5px 4px -1px rgba(0, 19, 41, 0.04);"
                              >
                                <div
                                  contenteditable="false"
                                  data-testid="code-toolbar"
                                  style="background-color: rgb(255, 255, 255); width: 100%; position: sticky; left: 0px; top: 0px; font-size: 1em; color: rgba(0, 0, 0, 0.6); justify-content: space-between; z-index: 50; height: 38px; display: flex; align-items: center; padding: 12px; gap: 16px; align-self: stretch; box-sizing: border-box; user-select: none; transition: all 0.2s ease-in-out; border-width: 0px 0px 1px 0px; border-style: solid; border-color: rgba(0, 16, 32, 0.063);"
                                >
                                  <div
                                    contenteditable="false"
                                    style="display: flex; align-items: center; cursor: pointer; gap: 2px; color: rgba(0, 0, 0, 0.8); user-select: none;"
                                  >
                                    <div
                                      style="height: 1em; width: 1em; display: flex;"
                                    >
                                      <svg
                                        height="1em"
                                        viewBox="0 0 24 24"
                                        width="1em"
                                        xmlns="http://www.w3.org/2000/svg"
                                      >
                                        <path
                                          d="M3 3h18v18H3V3m4.73 15.04c.4.85 1.19 1.55 2.54 1.55 1.5 0 2.53-.8 2.53-2.55v-5.78h-1.7V17c0 .86-.35 1.08-.9 1.08-.58 0-.82-.4-1.09-.87l-1.38.83m5.98-.18c.5.98 1.51 1.73 3.09 1.73 1.6 0 2.8-.83 2.8-2.36 0-1.41-.81-2.04-2.25-2.66l-.42-.18c-.73-.31-1.04-.52-1.04-1.02 0-.41.31-.73.81-.73.48 0 .8.21 1.09.73l1.31-.87c-.55-.96-1.33-1.33-2.4-1.33-1.51 0-2.48.96-2.48 2.23 0 1.38.81 2.03 2.03 2.55l.42.18c.78.34 1.24.55 1.24 1.13 0 .48-.45.83-1.15.83-.83 0-1.31-.43-1.67-1.03l-1.38.8z"
                                          fill="#ffca28"
                                        />
                                      </svg>
                                    </div>
                                    <div>
                                      <span>
                                        javascript
                                      </span>
                                    </div>
                                  </div>
                                  <div
                                    style="display: flex; gap: 5px; align-items: center;"
                                  >
                                    <span
                                      aria-describedby="test-id"
                                      aria-label="复制"
                                      class="ant-md-editor-action-icon-box"
                                      role="button"
                                      style="font-size: 1em; line-height: 1.75em; margin-left: 0.125em;"
                                      tabindex="0"
                                      title="复制"
                                    >
                                      <svg
                                        fill="none"
                                        height="1em"
                                        version="1.1"
                                        viewBox="0 0 14 14"
                                        width="1em"
                                        xmlns="http://www.w3.org/2000/svg"
                                        xmlns:xlink="http://www.w3.org/1999/xlink"
                                      >
                                        <g>
                                          <path
                                            d="M8.57814331346512,1.9218533134651183Q8.750003313465118,2.0937033134651184,8.750003313465118,2.3333333134651184C8.750003313465118,2.6555033134651183,9.011163313465119,2.9166633134651185,9.333333313465118,2.9166633134651185C9.655503313465118,2.9166633134651185,9.916663313465119,2.6555033134651183,9.916663313465119,2.3333333134651184Q9.916663313465119,1.6104633134651185,9.403103313465119,1.0968963134651184Q8.889543313465119,0.5833333134651184,8.166663313465119,0.5833333134651184L2.3333333134651184,0.5833333134651184Q1.6104633134651185,0.5833333134651184,1.0968963134651184,1.0968963134651184Q0.5833333134651184,1.6104633134651185,0.5833333134651184,2.3333333134651184L0.5833333134651184,8.166663313465119Q0.5833333134651184,8.889543313465119,1.0968963134651184,9.403103313465119Q1.6104633134651185,9.916663313465119,2.3333333134651184,9.916663313465119C2.6555033134651183,9.916663313465119,2.9166633134651185,9.655503313465118,2.9166633134651185,9.333333313465118C2.9166633134651185,9.011163313465119,2.6555033134651183,8.750003313465118,2.3333333134651184,8.750003313465118Q2.0937033134651184,8.750003313465118,1.9218533134651183,8.57814331346512Q1.7500033134651185,8.406293313465119,1.7500033134651185,8.166663313465119L1.7500033134651185,2.3333333134651184Q1.7500033134651185,2.0937033134651184,1.9218533134651183,1.9218533134651183Q2.0937033134651184,1.7500033134651185,2.3333333134651184,1.7500033134651185L8.166663313465119,1.7500033134651185Q8.406293313465119,1.7500033134651185,8.57814331346512,1.9218533134651183ZM4.083333313465118,11.666633313465118L4.083333313465118,5.833333313465118Q4.083333313465118,5.108463313465118,4.595893313465118,4.595893313465118Q5.108463313465118,4.083333313465118,5.833333313465118,4.083333313465118L11.666633313465118,4.083333313465118Q12.391533313465118,4.083333313465118,12.904133313465119,4.595893313465118Q13.416633313465118,5.108463313465118,13.416633313465118,5.833333313465118L13.416633313465118,11.666633313465118Q13.416633313465118,12.391533313465118,12.904133313465119,12.904133313465119Q12.391533313465118,13.416633313465118,11.666633313465118,13.416633313465118L5.833333313465118,13.416633313465118Q5.108463313465118,13.416633313465118,4.595893313465118,12.904133313465119Q4.083333313465118,12.391533313465118,4.083333313465118,11.666633313465118ZM5.250003313465118,11.666633313465118Q5.250003313465118,11.908333313465118,5.420853313465118,12.079133313465118Q5.591713313465118,12.250033313465119,5.833333313465118,12.250033313465119L11.666633313465118,12.250033313465119Q11.908333313465118,12.250033313465119,12.079133313465118,12.079133313465118Q12.250033313465119,11.908333313465118,12.250033313465119,11.666633313465118L12.250033313465119,5.833333313465118Q12.250033313465119,5.591713313465118,12.079133313465118,5.420853313465118Q11.908333313465118,5.250003313465118,11.666633313465118,5.250003313465118L5.833333313465118,5.250003313465118Q5.591713313465118,5.250003313465118,5.420853313465118,5.420853313465118Q5.250003313465118,5.591713313465118,5.250003313465118,5.833333313465118L5.250003313465118,11.666633313465118Z"
                                            fill="currentColor"
                                            fill-opacity="1"
                                            fill-rule="evenodd"
                                          />
                                        </g>
                                      </svg>
                                    </span>
                                  </div>
                                </div>
                                <div
                                  style="padding: 12px;"
                                >
                                  <div
                                    style="height: 100%; width: 100%; display: block;"
                                  >
                                    <div
                                      data-testid="ace-editor-container"
                                      style="height: 200px; line-height: 22px;"
                                    />
                                    <div
                                      data-testid="code-content-copy"
                                      style="height: 0.5px; overflow: hidden; opacity: 0; pointer-events: none;"
                                    >
                                      console.log('Hello, World!');
                                      <span
                                        data-slate-node="text"
                                      >
                                        <span
                                          data-be="text"
                                          data-slate-leaf="true"
                                          draggable="false"
                                        >
                                          <span
                                            data-slate-string="true"
                                          >
                                            console.log('Hello, World!');
                                          </span>
                                        </span>
                                      </span>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <blockquote
                            data-be="blockquote"
                            data-slate-node="element"
                          >
                            <div
                              class="ant-md-editor-drag-el"
                              data-be="paragraph"
                              data-slate-node="element"
                            >
                              <span
                                data-slate-node="text"
                              >
                                <span
                                  data-be="text"
                                  data-slate-leaf="true"
                                  draggable="false"
                                >
                                  <span
                                    data-slate-string="true"
                                  >
                                    这是一个引用块，展示 Markdown 的引用功能。
                                  </span>
                                </span>
                              </span>
                            </div>
                          </blockquote>
                        </div>
                      </div>
                    </div>
                    <div
                      style="padding: 8px 12px; background: rgb(230, 247, 255); border-radius: 6px; margin-top: 8px; font-size: 12px; color: rgb(24, 144, 255); border: 1px solid rgb(145, 213, 255);"
                    >
                      ✅ 
                      <strong>
                        状态信息
                      </strong>
                      <br />
                      消息状态: ✅ 已完成
                      <br />
                      角色: 🤖 AI助手
                      <br />
                      消息ID: demo-message-1
                    </div>
                    <div
                      class="ant-chat-item-extra"
                      style="display: flex; align-items: center; justify-content: space-between; width: 100%; padding-left: var(--padding-5x); padding-right: var(--padding-5x); padding-bottom: var(--padding-5x); color: var(--color-gray-a9); font-size: 13px; gap: 4px;"
                    >
                      <div
                        animate="visible"
                        class="ant-chat-item-extra-action-box"
                        initial="hidden"
                        style="display: flex; gap: 8px; align-items: center;"
                        variants="[object Object]"
                        whileinview="visible"
                      >
                        <span
                          aria-describedby="test-id"
                          aria-label="复制"
                          class="ant-md-editor-action-icon-box ant-md-editor-action-icon-box-only-icon"
                          data-testid="chat-item-copy-button"
                          role="button"
                          style="color: var(--color-gray-a9);"
                          tabindex="0"
                          title="复制"
                        >
                          <svg
                            fill="none"
                            height="1em"
                            version="1.1"
                            viewBox="0 0 14 14"
                            width="1em"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                          >
                            <g>
                              <path
                                d="M8.57814331346512,1.9218533134651183Q8.750003313465118,2.0937033134651184,8.750003313465118,2.3333333134651184C8.750003313465118,2.6555033134651183,9.011163313465119,2.9166633134651185,9.333333313465118,2.9166633134651185C9.655503313465118,2.9166633134651185,9.916663313465119,2.6555033134651183,9.916663313465119,2.3333333134651184Q9.916663313465119,1.6104633134651185,9.403103313465119,1.0968963134651184Q8.889543313465119,0.5833333134651184,8.166663313465119,0.5833333134651184L2.3333333134651184,0.5833333134651184Q1.6104633134651185,0.5833333134651184,1.0968963134651184,1.0968963134651184Q0.5833333134651184,1.6104633134651185,0.5833333134651184,2.3333333134651184L0.5833333134651184,8.166663313465119Q0.5833333134651184,8.889543313465119,1.0968963134651184,9.403103313465119Q1.6104633134651185,9.916663313465119,2.3333333134651184,9.916663313465119C2.6555033134651183,9.916663313465119,2.9166633134651185,9.655503313465118,2.9166633134651185,9.333333313465118C2.9166633134651185,9.011163313465119,2.6555033134651183,8.750003313465118,2.3333333134651184,8.750003313465118Q2.0937033134651184,8.750003313465118,1.9218533134651183,8.57814331346512Q1.7500033134651185,8.406293313465119,1.7500033134651185,8.166663313465119L1.7500033134651185,2.3333333134651184Q1.7500033134651185,2.0937033134651184,1.9218533134651183,1.9218533134651183Q2.0937033134651184,1.7500033134651185,2.3333333134651184,1.7500033134651185L8.166663313465119,1.7500033134651185Q8.406293313465119,1.7500033134651185,8.57814331346512,1.9218533134651183ZM4.083333313465118,11.666633313465118L4.083333313465118,5.833333313465118Q4.083333313465118,5.108463313465118,4.595893313465118,4.595893313465118Q5.108463313465118,4.083333313465118,5.833333313465118,4.083333313465118L11.666633313465118,4.083333313465118Q12.391533313465118,4.083333313465118,12.904133313465119,4.595893313465118Q13.416633313465118,5.108463313465118,13.416633313465118,5.833333313465118L13.416633313465118,11.666633313465118Q13.416633313465118,12.391533313465118,12.904133313465119,12.904133313465119Q12.391533313465118,13.416633313465118,11.666633313465118,13.416633313465118L5.833333313465118,13.416633313465118Q5.108463313465118,13.416633313465118,4.595893313465118,12.904133313465119Q4.083333313465118,12.391533313465118,4.083333313465118,11.666633313465118ZM5.250003313465118,11.666633313465118Q5.250003313465118,11.908333313465118,5.420853313465118,12.079133313465118Q5.591713313465118,12.250033313465119,5.833333313465118,12.250033313465119L11.666633313465118,12.250033313465119Q11.908333313465118,12.250033313465119,12.079133313465118,12.079133313465118Q12.250033313465119,11.908333313465118,12.250033313465119,11.666633313465118L12.250033313465119,5.833333313465118Q12.250033313465119,5.591713313465118,12.079133313465118,5.420853313465118Q11.908333313465118,5.250003313465118,11.666633313465118,5.250003313465118L5.833333313465118,5.250003313465118Q5.591713313465118,5.250003313465118,5.420853313465118,5.420853313465118Q5.250003313465118,5.591713313465118,5.250003313465118,5.833333313465118L5.250003313465118,11.666633313465118Z"
                                fill="currentColor"
                                fill-opacity="1"
                                fill-rule="evenodd"
                              />
                            </g>
                          </svg>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div
          style="padding: 16px; background: rgb(230, 247, 255); border-radius: 8px; font-size: 14px;"
        >
          <strong>
            📖 功能说明：
          </strong>
          <ul
            style="margin: 8px 0px 0px 0px; padding-left: 20px;"
          >
            <li>
              <strong>
                beforeContentRender:
              </strong>
               在消息内容前面添加自定义内容
            </li>
            <li>
              <strong>
                afterContentRender:
              </strong>
               在消息内容后面添加自定义内容
            </li>
            <li>
              <strong>
                参数:
              </strong>
               两个函数都接收 props 和 defaultDom 参数
            </li>
            <li>
              <strong>
                返回值:
              </strong>
               可以返回任何有效的 React 节点
            </li>
            <li>
              <strong>
                禁用:
              </strong>
               设置为 false 可以禁用对应的渲染
            </li>
          </ul>
        </div>
      </div>
      <div
        style="margin-top: 24px; padding: 16px; background: rgb(245, 245, 245); border-radius: 8px; font-size: 12px;"
      >
        <strong>
          💻 代码示例：
        </strong>
        <pre
          style="margin: 8px 0px 0px 0px; overflow: auto;"
        >
          // 自定义 beforeContent 渲染函数
const customBeforeContentRender = (props) =&gt; {
  const messageData = props.originData;
  return (
    &lt;div style={{
      padding: '8px 12px',
      background: '#f5f5f5',
      borderRadius: '6px',
      marginBottom: '8px',
      fontSize: '12px',
      color: '#666'
    }}&gt;
      📝 消息创建时间: 2023-12-21 10:30:56
    &lt;/div&gt;
  );
};

// 自定义 afterContent 渲染函数
const customAfterContentRender = (props) =&gt; {
  const messageData = props.originData;
  return (
    &lt;div style={{
      padding: '8px 12px',
      background: '#e6f7ff',
      borderRadius: '6px',
      marginTop: '8px',
      fontSize: '12px',
      color: '#1890ff'
    }}&gt;
      ✅ 消息状态: 已完成
    &lt;/div&gt;
  );
};

// 使用配置
&lt;Bubble
  originData={messageData}
  bubbleRenderConfig={{
    beforeContentRender: customBeforeContentRender,
    afterContentRender: customAfterContentRender,
  }}
/&gt;
        </pre>
      </div>
    </div>
  </div>
</DocumentFragment>