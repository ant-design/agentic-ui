<DocumentFragment>
  <div
    class="ant-app"
  >
    <div>
      test
    </div>
    <div
      style="max-width: 800px; margin: 0px auto; padding: 24px;"
    >
      <h2
        class="ant-typography"
      >
        消息连续性优化 (preMessageSameRole)
      </h2>
      <div
        class="ant-typography"
      >
        当连续的消息来自同一角色时，组件会自动隐藏重复的头像和标题信息， 让对话更加简洁流畅。这个功能特别适合长对话场景。
      </div>
      <div
        class="ant-card ant-card-bordered"
        style="margin-bottom: 24px;"
      >
        <div
          class="ant-card-head"
        >
          <div
            class="ant-card-head-wrapper"
          >
            <div
              class="ant-card-head-title"
            >
              功能演示
            </div>
          </div>
        </div>
        <div
          class="ant-card-body"
        >
          <div
            style="display: flex; flex-direction: column; gap: 16px;"
          >
            <div
              avatar="[object Object]"
              data-testid="bubble"
              origindata="[object Object]"
              placement="right"
            >
              bubble
            </div>
            <div
              avatar="[object Object]"
              data-testid="bubble"
              origindata="[object Object]"
              placement="right"
              premessage="[object Object]"
            >
              bubble
            </div>
            <div
              avatar="[object Object]"
              data-testid="bubble"
              origindata="[object Object]"
              placement="left"
            >
              bubble
            </div>
            <div
              avatar="[object Object]"
              data-testid="bubble"
              origindata="[object Object]"
              placement="left"
              premessage="[object Object]"
            >
              bubble
            </div>
            <div
              avatar="[object Object]"
              data-testid="bubble"
              origindata="[object Object]"
              placement="right"
              premessage="[object Object]"
            >
              bubble
            </div>
            <div
              avatar="[object Object]"
              data-testid="bubble"
              origindata="[object Object]"
              placement="right"
              premessage="[object Object]"
            >
              bubble
            </div>
          </div>
        </div>
      </div>
      <div
        class="ant-divider ant-divider-horizontal"
        role="separator"
      />
      <div
        class="ant-card ant-card-bordered"
      >
        <div
          class="ant-card-head"
        >
          <div
            class="ant-card-head-wrapper"
          >
            <div
              class="ant-card-head-title"
            >
              功能说明
            </div>
          </div>
        </div>
        <div
          class="ant-card-body"
        >
          <h4
            class="ant-typography"
          >
            工作原理
          </h4>
          <div
            class="ant-typography"
          >
            组件会自动比较当前消息与前一条消息的角色：
          </div>
          <ul>
            <li>
              如果角色相同，隐藏头像和标题区域
            </li>
            <li>
              如果角色不同，显示完整的头像和标题信息
            </li>
            <li>
              右侧布局（用户消息）始终隐藏头像和标题
            </li>
          </ul>
          <h4
            class="ant-typography"
          >
            使用方式
          </h4>
          <div
            class="ant-typography"
          >
            只需要在 Bubble 组件中传入 
            <code>
              preMessage
            </code>
             属性即可：
          </div>
          <pre
            style="background: rgb(245, 245, 245); padding: 16px; border-radius: 4px;"
          >
            &lt;Bubble
  originData={currentMessage}
  preMessage={previousMessage} // 传入前一条消息
  avatar={{ name: '用户', avatar: '👤' }}
  placement="right"
/&gt;
          </pre>
          <h4
            class="ant-typography"
          >
            边界情况
          </h4>
          <div
            class="ant-typography"
          >
            组件智能处理各种边界情况：
          </div>
          <ul>
            <li>
              当 
              <code>
                preMessage
              </code>
               为 
              <code>
                undefined
              </code>
               时，始终显示头像和标题
            </li>
            <li>
              当角色为 
              <code>
                undefined
              </code>
               时，两个 
              <code>
                undefined
              </code>
               视为相同角色
            </li>
            <li>
              右侧布局（
              <code>
                placement="right"
              </code>
              ）始终隐藏头像和标题，不受此功能影响
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</DocumentFragment>