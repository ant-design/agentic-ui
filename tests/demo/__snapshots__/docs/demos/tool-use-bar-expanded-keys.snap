<DocumentFragment>
  <div
    class="ant-app"
  >
    <div>
      test
    </div>
    <div
      style="max-width: 1000px; margin: 0px auto;"
    >
      <div
        style="margin-bottom: 16px;"
      >
        <h3>
          展开状态控制演示
        </h3>
        <p>
          通过 
          <code>
            expandedKeys
          </code>
           和 
          <code>
            onExpandedKeysChange
          </code>
           属性可以控制工具项的展开状态。
        </p>
        <div
          class="ant-space ant-space-horizontal ant-space-align-center ant-space-gap-row-small ant-space-gap-col-small"
          style="margin-bottom: 16px;"
        >
          <div
            class="ant-space-item"
          >
            <button
              class="ant-btn ant-btn-default ant-btn-color-default ant-btn-variant-outlined"
              type="button"
            >
              <span>
                展开所有
              </span>
            </button>
          </div>
          <div
            class="ant-space-item"
          >
            <button
              class="ant-btn ant-btn-default ant-btn-color-default ant-btn-variant-outlined"
              type="button"
            >
              <span>
                收起所有
              </span>
            </button>
          </div>
          <div
            class="ant-space-item"
          >
            <button
              class="ant-btn ant-btn-default ant-btn-color-default ant-btn-variant-outlined"
              type="button"
            >
              <span>
                切换第一项
              </span>
            </button>
          </div>
        </div>
        <div
          style="margin-bottom: 8px;"
        >
          <strong>
            当前展开的工具：
          </strong>
           tool1
        </div>
      </div>
      <div
        class="tool-use-bar"
        data-testid="ToolUse"
      >
        <div
          class="tool-use-bar-tool  tool-use-bar-tool-success"
          data-testid="ToolUserItem"
        >
          <div
            class="tool-use-bar-tool-bar "
            data-testid="tool-user-item-tool-bar"
          >
            <div
              class="tool-use-bar-tool-header "
              data-testid="tool-user-item-tool-header"
            >
              <div
                class="tool-use-bar-tool-header-left "
              >
                <div
                  class="tool-use-bar-tool-image-wrapper"
                >
                  <div
                    class="tool-use-bar-tool-image "
                  >
                    <svg
                      fill="none"
                      height="1em"
                      viewBox="0 0 14 14"
                      width="1em"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <defs>
                        <clippath
                          id="a"
                        >
                          <rect
                            height="14"
                            rx="0"
                            width="14"
                          />
                        </clippath>
                      </defs>
                      <g>
                        <path
                          d="M1.167 11.083V2.917q0-.725.512-1.238.513-.512 1.238-.512h8.166q.725 0 1.238.512.512.513.512 1.238v8.166q0 .725-.512 1.238-.513.512-1.238.512H2.917q-.725 0-1.238-.512-.512-.513-.512-1.238zm1.166 0q0 .584.584.584h8.166q.584 0 .584-.584V2.917q0-.584-.584-.584H2.917q-.584 0-.584.584v8.166zm3.33-6.245L4.495 3.67a.583.583 0 10-.825.825l.754.754-.754.754a.583.583 0 10.825.825l1.166-1.167a.583.583 0 000-.824zM6.416 7H8.75a.583.583 0 110 1.167H6.417a.583.583 0 110-1.167z"
                          fill="currentColor"
                          fill-rule="evenodd"
                        />
                      </g>
                    </svg>
                  </div>
                </div>
                <div
                  class="tool-use-bar-tool-name "
                >
                  Search Code
                </div>
              </div>
            </div>
            <div
              class="tool-use-bar-tool-target "
              title="baidu.com"
            >
              baidu.com
            </div>
            <div
              class="tool-use-bar-tool-time "
            >
              1.3s
            </div>
            <div
              class="tool-use-bar-tool-expand "
            >
              <svg
                fill="none"
                height="1em"
                style="transition: transform 0.3s ease-in-out; transform: rotate(180deg);"
                viewBox="0 0 16 16"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <defs>
                  <clippath
                    id="a"
                  >
                    <rect
                      height="16"
                      rx="0"
                      width="16"
                    />
                  </clippath>
                </defs>
                <g>
                  <path
                    d="M3.529 9.529l4-4a.667.667 0 01.942 0l4 4a.667.667 0 01-.942.942l-3.53-3.528-3.528 3.528a.667.667 0 11-.942-.942z"
                    fill="currentColor"
                    fill-rule="evenodd"
                  />
                </g>
              </svg>
            </div>
          </div>
          <div
            class="tool-use-bar-tool-container "
            data-testid="tool-user-item-tool-container "
          >
            <div
              class="tool-use-bar-tool-content "
            >
              <div>
                这是搜索代码的详细内容，包含了一些执行结果和相关信息。
              </div>
            </div>
          </div>
        </div>
        <div
          class="tool-use-bar-tool  tool-use-bar-tool-error"
          data-testid="ToolUserItem"
        >
          <div
            class="tool-use-bar-tool-bar "
            data-testid="tool-user-item-tool-bar"
          >
            <div
              class="tool-use-bar-tool-header "
              data-testid="tool-user-item-tool-header"
            >
              <div
                class="tool-use-bar-tool-header-left "
              >
                <div
                  class="tool-use-bar-tool-image-wrapper"
                >
                  <div
                    class="tool-use-bar-tool-image "
                  >
                    <svg
                      fill="none"
                      height="1em"
                      viewBox="0 0 14 14"
                      width="1em"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <defs>
                        <clippath
                          id="a"
                        >
                          <rect
                            height="14"
                            rx="0"
                            width="14"
                          />
                        </clippath>
                      </defs>
                      <g>
                        <path
                          d="M1.167 11.083V2.917q0-.725.512-1.238.513-.512 1.238-.512h8.166q.725 0 1.238.512.512.513.512 1.238v8.166q0 .725-.512 1.238-.513.512-1.238.512H2.917q-.725 0-1.238-.512-.512-.513-.512-1.238zm1.166 0q0 .584.584.584h8.166q.584 0 .584-.584V2.917q0-.584-.584-.584H2.917q-.584 0-.584.584v8.166zm3.33-6.245L4.495 3.67a.583.583 0 10-.825.825l.754.754-.754.754a.583.583 0 10.825.825l1.166-1.167a.583.583 0 000-.824zM6.416 7H8.75a.583.583 0 110 1.167H6.417a.583.583 0 110-1.167z"
                          fill="currentColor"
                          fill-rule="evenodd"
                        />
                      </g>
                    </svg>
                  </div>
                </div>
                <div
                  class="tool-use-bar-tool-name "
                >
                  Read File
                </div>
              </div>
            </div>
            <div
              class="tool-use-bar-tool-target "
              title="xxx.docx"
            >
              xxx.docx
            </div>
            <div
              class="tool-use-bar-tool-time "
            >
              2.3s
            </div>
            <div
              class="tool-use-bar-tool-expand "
            >
              <svg
                fill="none"
                height="1em"
                style="transition: transform 0.3s ease-in-out; transform: rotate(0deg);"
                viewBox="0 0 16 16"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <defs>
                  <clippath
                    id="a"
                  >
                    <rect
                      height="16"
                      rx="0"
                      width="16"
                    />
                  </clippath>
                </defs>
                <g>
                  <path
                    d="M3.529 9.529l4-4a.667.667 0 01.942 0l4 4a.667.667 0 01-.942.942l-3.53-3.528-3.528 3.528a.667.667 0 11-.942-.942z"
                    fill="currentColor"
                    fill-rule="evenodd"
                  />
                </g>
              </svg>
            </div>
          </div>
        </div>
        <div
          class="tool-use-bar-tool  tool-use-bar-tool-success"
          data-testid="ToolUserItem"
        >
          <div
            class="tool-use-bar-tool-bar "
            data-testid="tool-user-item-tool-bar"
          >
            <div
              class="tool-use-bar-tool-header "
              data-testid="tool-user-item-tool-header"
            >
              <div
                class="tool-use-bar-tool-header-left "
              >
                <div
                  class="tool-use-bar-tool-image-wrapper"
                >
                  <div
                    class="tool-use-bar-tool-image "
                  >
                    <svg
                      fill="none"
                      height="1em"
                      viewBox="0 0 14 14"
                      width="1em"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <defs>
                        <clippath
                          id="a"
                        >
                          <rect
                            height="14"
                            rx="0"
                            width="14"
                          />
                        </clippath>
                      </defs>
                      <g>
                        <path
                          d="M1.167 11.083V2.917q0-.725.512-1.238.513-.512 1.238-.512h8.166q.725 0 1.238.512.512.513.512 1.238v8.166q0 .725-.512 1.238-.513.512-1.238.512H2.917q-.725 0-1.238-.512-.512-.513-.512-1.238zm1.166 0q0 .584.584.584h8.166q.584 0 .584-.584V2.917q0-.584-.584-.584H2.917q-.584 0-.584.584v8.166zm3.33-6.245L4.495 3.67a.583.583 0 10-.825.825l.754.754-.754.754a.583.583 0 10.825.825l1.166-1.167a.583.583 0 000-.824zM6.416 7H8.75a.583.583 0 110 1.167H6.417a.583.583 0 110-1.167z"
                          fill="currentColor"
                          fill-rule="evenodd"
                        />
                      </g>
                    </svg>
                  </div>
                </div>
                <div
                  class="tool-use-bar-tool-name "
                >
                  Edit File
                </div>
              </div>
            </div>
            <div
              class="tool-use-bar-tool-target "
              title="xx.md"
            >
              xx.md
            </div>
            <div
              class="tool-use-bar-tool-time "
            >
              2.3s
            </div>
            <div
              class="tool-use-bar-tool-expand "
            >
              <svg
                fill="none"
                height="1em"
                style="transition: transform 0.3s ease-in-out; transform: rotate(0deg);"
                viewBox="0 0 16 16"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <defs>
                  <clippath
                    id="a"
                  >
                    <rect
                      height="16"
                      rx="0"
                      width="16"
                    />
                  </clippath>
                </defs>
                <g>
                  <path
                    d="M3.529 9.529l4-4a.667.667 0 01.942 0l4 4a.667.667 0 01-.942.942l-3.53-3.528-3.528 3.528a.667.667 0 11-.942-.942z"
                    fill="currentColor"
                    fill-rule="evenodd"
                  />
                </g>
              </svg>
            </div>
          </div>
        </div>
        <div
          class="tool-use-bar-tool  tool-use-bar-tool-loading"
          data-testid="ToolUserItem"
        >
          <div
            class="tool-use-bar-tool-bar "
            data-testid="tool-user-item-tool-bar"
          >
            <div
              class="tool-use-bar-tool-header "
              data-testid="tool-user-item-tool-header"
            >
              <div
                class="tool-use-bar-tool-header-left "
              >
                <div
                  class="tool-use-bar-tool-image-wrapper tool-use-bar-tool-image-wrapper-rotating tool-use-bar-tool-image-wrapper-loading"
                >
                  <div
                    class="tool-use-bar-tool-image "
                  >
                    <svg
                      fill="none"
                      height="1em"
                      viewBox="0 0 14 14"
                      width="1em"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <defs>
                        <clippath
                          id="a"
                        >
                          <rect
                            height="14"
                            rx="0"
                            width="14"
                          />
                        </clippath>
                      </defs>
                      <g>
                        <path
                          d="M1.167 11.083V2.917q0-.725.512-1.238.513-.512 1.238-.512h8.166q.725 0 1.238.512.512.513.512 1.238v8.166q0 .725-.512 1.238-.513.512-1.238.512H2.917q-.725 0-1.238-.512-.512-.513-.512-1.238zm1.166 0q0 .584.584.584h8.166q.584 0 .584-.584V2.917q0-.584-.584-.584H2.917q-.584 0-.584.584v8.166zm3.33-6.245L4.495 3.67a.583.583 0 10-.825.825l.754.754-.754.754a.583.583 0 10.825.825l1.166-1.167a.583.583 0 000-.824zM6.416 7H8.75a.583.583 0 110 1.167H6.417a.583.583 0 110-1.167z"
                          fill="currentColor"
                          fill-rule="evenodd"
                        />
                      </g>
                    </svg>
                  </div>
                </div>
                <div
                  class="tool-use-bar-tool-name  tool-use-bar-tool-name-loading"
                >
                  Generate Report
                </div>
              </div>
            </div>
            <div
              class="tool-use-bar-tool-target  tool-use-bar-tool-target-loading"
              title="report.pdf"
            >
              report.pdf
            </div>
            <div
              class="tool-use-bar-tool-time "
            >
              5.1s
            </div>
          </div>
        </div>
      </div>
      <div
        style="margin-top: 20px; padding: 20px;"
      >
        <h4>
          Props 说明：
        </h4>
        <ul>
          <li>
            <strong>
              tools
            </strong>
            : 工具列表数组，每个工具包含 id、toolName、toolTarget、time、status、content、errorMessage 等属性
          </li>
          <li>
            <strong>
              expandedKeys
            </strong>
            : 当前展开的工具 ID 数组，受控模式
          </li>
          <li>
            <strong>
              onExpandedKeysChange
            </strong>
            : 展开状态变化时的回调函数
          </li>
          <li>
            <strong>
              onToolClick
            </strong>
            : 点击工具项时的回调函数
          </li>
          <li>
            <strong>
              content
            </strong>
            : 工具项的详细内容，React 节点
          </li>
          <li>
            <strong>
              errorMessage
            </strong>
            : 错误信息，当 status 为 'error' 时显示
          </li>
        </ul>
      </div>
      <div
        style="margin-top: 16px; padding: 16px; background: rgb(245, 245, 245); border-radius: 8px;"
      >
        <h4>
          功能说明
        </h4>
        <ul>
          <li>
            🎛️ 
            <strong>
              受控展开
            </strong>
             - 通过 
            <code>
              expandedKeys
            </code>
             完全控制展开状态
          </li>
          <li>
            📝 
            <strong>
              状态同步
            </strong>
             - 
            <code>
              onExpandedKeysChange
            </code>
             回调确保状态同步
          </li>
          <li>
            🔄 
            <strong>
              批量操作
            </strong>
             - 支持批量展开/收起多个工具项
          </li>
          <li>
            📊 
            <strong>
              状态监控
            </strong>
             - 实时显示当前展开的工具列表
          </li>
          <li>
            🎯 
            <strong>
              精确控制
            </strong>
             - 可以单独控制任意工具项的展开状态
          </li>
        </ul>
        <p>
          <strong>
            操作提示:
          </strong>
          使用上方按钮控制展开状态，或直接点击工具项的展开按钮。 注意只有包含内容或错误信息的工具项才会显示展开按钮。
        </p>
      </div>
    </div>
  </div>
</DocumentFragment>