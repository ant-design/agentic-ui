<DocumentFragment>
  <div
    class="ant-app"
  >
    <div>
      test
    </div>
    <div>
      <div
        style="margin-bottom: 16px; padding: 16px; background: rgb(245, 245, 245); border-radius: 8px;"
      >
        <div
          class="ant-space ant-space-vertical ant-space-gap-row-small ant-space-gap-col-small"
          style="width: 100%;"
        >
          <div
            class="ant-space-item"
          >
            <div>
              <strong>
                加载超长文档（约 100000 章节，50000000+ 字符）
              </strong>
            </div>
          </div>
          <div
            class="ant-space-item"
          >
            <div
              class="ant-space ant-space-horizontal ant-space-align-center ant-space-gap-row-small ant-space-gap-col-small"
            >
              <div
                class="ant-space-item"
              >
                <button
                  class="ant-btn ant-btn-primary ant-btn-color-primary ant-btn-variant-solid"
                  type="button"
                >
                  <span>
                    使用优化加载
                  </span>
                </button>
              </div>
              <div
                class="ant-space-item"
              >
                <button
                  class="ant-btn ant-btn-default ant-btn-color-default ant-btn-variant-outlined"
                  type="button"
                >
                  <span>
                    不使用优化加载
                  </span>
                </button>
              </div>
              <div
                class="ant-space-item"
              >
                <button
                  class="ant-btn ant-btn-default ant-btn-dangerous ant-btn-color-dangerous ant-btn-variant-outlined"
                  disabled=""
                  type="button"
                >
                  <span>
                    取消加载
                  </span>
                </button>
              </div>
            </div>
          </div>
          <div
            class="ant-space-item"
          >
            <div
              style="font-size: 12px; color: rgb(102, 102, 102); padding: 8px; background: rgb(230, 247, 255); border-radius: 4px;"
            >
              <strong>
                💡 优化说明：
              </strong>
              <ul
                style="margin: 8px 0px 0px; padding-left: 20px;"
              >
                <li>
                  <strong>
                    内容生成阶段
                  </strong>
                  ：使用 RAF 分批生成（每批 100 章节）
                </li>
                <li>
                  <strong>
                    编辑器加载阶段
                  </strong>
                  （使用优化）：
                  <ul
                    style="margin-top: 4px; padding-left: 16px;"
                  >
                    <li>
                      RAF 边解析边插入，实时显示内容
                    </li>
                    <li>
                      每帧处理少量 chunks，避免阻塞主线程
                    </li>
                    <li>
                      用户可以看到内容逐步加载，体验更好
                    </li>
                    <li>
                      首次显示耗时：从开始加载到用户首次看到内容的时间
                    </li>
                    <li>
                      支持取消操作：可以中断正在进行的加载过程
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>
                    不使用优化
                  </strong>
                  ：一次性同步解析和插入，会卡住页面
                </li>
              </ul>
            </div>
          </div>
          <div
            class="ant-space-item"
          >
            <div
              style="font-size: 12px; color: rgb(255, 77, 79); padding: 8px; background: rgb(255, 242, 232); border: 1px solid rgb(255, 187, 150); border-radius: 4px;"
            >
              <strong>
                ⚠️ 性能对比：
              </strong>
              <ul
                style="margin: 8px 0px 0px; padding-left: 20px;"
              >
                <li>
                  <strong>
                    使用优化
                  </strong>
                  ：生成 + 边解析边插入 全程使用 RAF，页面流畅，内容实时显示，首次显示耗时更短
                </li>
                <li>
                  <strong>
                    不使用优化
                  </strong>
                  ：解析和插入阶段会卡住主线程，页面冻结，首次显示耗时等于总加载时间
                </li>
                <li>
                  建议首次测试使用"优化加载"观察效果
                </li>
                <li>
                  注意观察浏览器的响应性和进度条的流畅度
                </li>
                <li>
                  对比两种方式的首次显示耗时差异
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div
        class="ant-md-editor markdown-editor ant-md-editor-readonly"
        style="width: 100%; height: 480px; display: flex; flex-direction: column; max-height: 100%; font: var(--font-text-paragraph-lg); letter-spacing: var(--letter-spacing-paragraph-lg, normal); color: var(--color-gray-text-default); border: 1px solid rgb(217, 217, 217); border-radius: 8px;"
      >
        <div
          style="padding: 4px 20px; overflow: auto; display: flex; height: 100%; position: relative; gap: 24px; outline: none;"
          tabindex="-1"
        >
          <div
            autocapitalize="false"
            autocorrect="false"
            class="ant-md-editor-content ant-md-editor-content-readonly"
            contenteditable="false"
            data-slate-editor="true"
            data-slate-node="value"
            spellcheck="false"
            style="position: relative; white-space: pre-wrap; word-wrap: break-word; font-size: 14px;"
            zindex="-1"
          >
            <div
              class="ant-md-editor-drag-el empty"
              data-be="paragraph"
              data-empty="true"
              data-slate-node="element"
              data-slate-placeholder="请输入"
            >
              <span
                data-slate-node="text"
              >
                <span
                  data-be="text"
                  data-slate-leaf="true"
                  draggable="false"
                >
                  <span
                    data-slate-length="0"
                    data-slate-zero-width="n"
                  >
                    ﻿
                    <br />
                  </span>
                </span>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</DocumentFragment>